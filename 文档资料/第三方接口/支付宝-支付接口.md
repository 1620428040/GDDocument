## 支付宝支付接口
开放平台：https://open.alipay.com/platform/home.htm

注意：支付宝的接口在不同的平台上是不能通用的，比如电脑网页支付就与APP支付的权限不能通用  
支付宝的接口主要分为两部分:
- AopClient
需要设置APPID等参数，用来处理和发送请求
- Request
不同的业务对应不同的请求类，只要创建业务对应的请求类，并且填入对应的参数，然后用AopClient发送请求就可以了

### 业务流程
用户通过APP或者网页发送请求-->
服务器检查请求，创建交易记录，并将交易签名返回给APP，或者直接发起交易-->
(APP端发起交易-->)
用户确认交易-->
接收同步通知，并记录时间
接收异步通知，并记录时间

### 数据结构
交易记录表
id
trade_no        out_trade_no
name            subject
total           total_amount
description     body
time            创建时间
return_status   同步通知状态
return_time     同步通知时间
notify_status   异步通知状态
notify_time     异步通知时间

```sql
CREATE TABLE `trade` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`trade_no` VARCHAR( 20 ) NOT NULL ,
`name` VARCHAR( 20 ) NOT NULL ,
`total` FLOAT(11,2) NOT NULL ,
`description` VARCHAR( 100 ) NOT NULL ,
`time` DATETIME NOT NULL ,
`return_status` VARCHAR( 20 ) DEFAULT NULL,
`return_time` DATETIME  DEFAULT NULL,
`notify_status` VARCHAR( 20 ) DEFAULT NULL,
`notify_time` DATETIME  DEFAULT NULL
);
```